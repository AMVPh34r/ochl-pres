var a=a||{};a.canChangeSlides=false;a.slideColors=['#03899C','#FF7A00','#222222','#1144AA','#FF9700','#00B945','#03899C','#1144AA'];a.windowHash="";a.currentSlide=1;a.toSlide=function(b){b=parseInt(b);if((isNaN(b))||(b<1)||(b>$('.slide').length))return;$('.slide').each(function(){var a=$(this);if(a.attr('data-slide')<=b)a.addClass('slide-show');else a.removeClass('slide-show');});if(b>1){a.hash=b;window.location.hash=b;}else{a.hash="";window.location.hash="";}a.currentSlide=b;a.canChangeSlides=true;};a.nextSlide=function(){a.toSlide(a.currentSlide+1);};a.prevSlide=function(){a.toSlide(a.currentSlide-1);};a.checkHash=function(){a.hash=window.location.hash.substring(1);if((a.hash==="")&&(a.currentSlide!=1))a.toSlide(1);else if(!isNaN(a.hash))a.toSlide(a.hash);else window.location.hash="";if(a.hash==="")history.pushState("",document.title,window.location.pathname+window.location.search);};a.setSlideBgs=function(a){var b=$('.slide');var c=0;for(i=0;i<b.length;i++){var d=$(b[i]);if(d.attr('data-bg')!==undefined)d.css('background',d.attr('data-bg'));else d.css('background',a[c]);c+=1;if(c>=a.length)c=0;}};a.gallery=function(){var a=($('.img-slideshow a.show')?$('.img-slideshow a.show'):$('.img-slideshow a:first'));var b=((a.next().length)?((a.next().hasClass('caption'))?$('.img-slideshow a:first'):a.next()):$('.img-slideshow a:first'));var c=b.find('img').attr('rel');b.css({opacity:0.0}).addClass('show').animate({opacity:1.0},1000);a.animate({opacity:0.0},1000).removeClass('show');$('.img-slideshow .caption').animate({opacity:0.0},{queue:false,duration:0}).animate({height:'1px'},{queue:true,duration:300});$('.img-slideshow .caption').animate({opacity:0.7},100).animate({height:'100px'},500);$('.img-slideshow .content').html(c);};a.run=function(){if($('video.mainvideo').not('.mainvideo-first').length!==0)$('video.mainvideo').not('.mainvideo-first').get(0).pause();a.checkHash();$(window).on('hashchange',a.checkHash);a.setSlideBgs(a.slideColors);$('.img-slideshow a').css({opacity:0.0});$('.img-slideshow a:first').css({opacity:1.0});$('.img-slideshow .caption').css({width:$('.img-slideshow a').find('img').css('width')});$('.img-slideshow .content').html($('.img-slideshow a:first').find('img').attr('rel')).animate({opacity:0.7},400);setInterval(a.gallery,6000);$('.mainvideo').on('ended click',function(){var b=$(this);if(b.attr('data-next')!==undefined){b.hide();$(b.attr('data-next')).show().get(0).play();}else a.canChangeSlides=true;});$(document).on('click','.slide',function(){var b=$(this);var c=b.attr('data-next');if((a.canChangeSlides===true)&&(c!==undefined)){var d=parseInt(c.substring(c.indexOf('-')+1));a.toSlide(d);}}).on('keydown',function(b){switch(b.keyCode){case 35:a.toSlide($('.slide').length);break;case 36:a.toSlide(1);break;case 37:case 38:a.prevSlide();break;case 39:case 40:a.nextSlide();break;case 67:if($('.slide').css('cursor')=="pointer")$('.slide').css('cursor','none');else $('.slide').css('cursor','');break;}});};$(document).ready(a.run);